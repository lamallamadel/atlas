<div class="workflow" role="group" aria-label="Progression du dossier">
  <div class="workflow-header">
    <div class="workflow-title">
      <mat-icon aria-hidden="true">timeline</mat-icon>
      <span>Pipeline dossier</span>
    </div>
    <div class="workflow-meta" *ngIf="status">
      <span class="workflow-chip" [ngClass]="closeVariantClass" *ngIf="isClosed">
        <mat-icon aria-hidden="true">{{ isWon ? 'check_circle' : 'cancel' }}</mat-icon>
        <span>{{ isWon ? 'Gagn√©' : 'Perdu' }}</span>
      </span>
      <span class="workflow-progress" aria-label="Progression">
        {{ progressPercent }}%
      </span>
    </div>
  </div>

  <div class="workflow-track">
    <div class="workflow-bar" [style.width.%]="progressPercent"></div>
  </div>

  <ol class="workflow-steps">
    <li
      *ngFor="let step of steps; let i = index"
      class="workflow-step"
      [class.completed]="i < currentIndex"
      [class.active]="i === currentIndex">
      <div class="step-dot" aria-hidden="true">
        <mat-icon>{{ stepIcon(step) }}</mat-icon>
      </div>
      <div class="step-label">{{ stepLabel(step) }}</div>
    </li>
  </ol>

  <div class="workflow-hint" *ngIf="hint">
    <mat-icon aria-hidden="true">tips_and_updates</mat-icon>
    <span>{{ hint }}</span>
  </div>
</div>
