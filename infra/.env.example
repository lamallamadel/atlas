# ==============================
# Atlas - Infra (Docker-first)
# ==============================

# --- PostgreSQL ---
POSTGRES_DB=atlas
POSTGRES_USER=atlas
POSTGRES_PASSWORD=atlas
POSTGRES_PORT=5432

# --- Redis ---
REDIS_PORT=6379
REDIS_MAX_MEMORY=256mb
CACHE_REDIS_ENABLED=true

# --- Keycloak ---
# Port exposé sur l'hôte (navigateur)
KEYCLOAK_PORT=8081
# Admin console credentials (dev)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# --- Backend ---
BACKEND_PORT=8080
SPRING_PROFILES_ACTIVE=elk
# Frontend local (Angular) -> CORS
CORS_ALLOWED_ORIGINS=http://localhost:4200

# OIDC (backend dans Docker) : issuer et JWK doivent utiliser le DNS Docker
OAUTH2_ISSUER_URI=http://keycloak:8080/realms/myrealm
OAUTH2_JWK_SET_URI=http://keycloak:8080/realms/myrealm/protocol/openid-connect/certs

# --- Elasticsearch / Kibana ---
ELASTICSEARCH_ENABLED=true
ELASTICSEARCH_URIS=http://elasticsearch:9200
ES_HTTP_PORT=9200
KIBANA_PORT=5601
LOGSTASH_BEATS_PORT=5044

# --- Prometheus / Grafana ---
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# --- Adminer ---
ADMINER_PORT=8082

# --- App metadata ---
APP_ENV=docker
# APP_VERSION=@project.version@

# --- Brain AI Services ---
BRAIN_API_KEY=change-me-in-production
BRAIN_SCORING_PORT=8000
BRAIN_DUPLI_PORT=8001
BRAIN_DUPLI_SEUIL=0.85
BRAIN_FRAUD_PORT=8002
