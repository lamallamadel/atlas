spring:
  application:
    name: backend
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${OAUTH2_ISSUER_URI:http://localhost:8081/realms/myrealm}
  mail:
    host: ${MAIL_HOST:localhost}
    port: ${MAIL_PORT:1025}
    username: ${MAIL_USERNAME:}
    password: ${MAIL_PASSWORD:}
    from: ${MAIL_FROM:noreply@example.com}
    properties:
      mail:
        smtp:
          auth: ${MAIL_SMTP_AUTH:false}
          starttls:
            enable: ${MAIL_SMTP_STARTTLS:false}
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    mode: HTML
    encoding: UTF-8
    cache: false
  data:
    elasticsearch:
      repositories:
        enabled: ${ELASTICSEARCH_ENABLED:false}


  output:
    ansi:
      enabled: ALWAYS

# Optional: enable Spring Elasticsearch client only when desired
elasticsearch:
  enabled: ${ELASTICSEARCH_ENABLED:false}
  uris: ${ELASTICSEARCH_URIS:http://localhost:9200}
  username: ${ELASTICSEARCH_USERNAME:}
  password: ${ELASTICSEARCH_PASSWORD:}

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui

notification:
  processor:
    interval: ${NOTIFICATION_PROCESSOR_INTERVAL:10000}

outbound:
  worker:
    enabled: ${OUTBOUND_WORKER_ENABLED:true}
    poll-interval-ms: ${OUTBOUND_WORKER_POLL_INTERVAL_MS:5000}
    batch-size: ${OUTBOUND_WORKER_BATCH_SIZE:10}

whatsapp:
  cloud:
    api:
      base-url: ${WHATSAPP_CLOUD_API_BASE_URL:https://graph.facebook.com/v18.0}

# App metadata (surfaced in /actuator/info when enabled)
app:
  env: ${APP_ENV:local}
  version: ${APP_VERSION:@project.version@}

atlas:
  slow-request:
    threshold-ms: ${ATLAS_SLOW_REQUEST_THRESHOLD_MS:1500}
  metrics:
    include-org-id: ${ATLAS_METRICS_INCLUDE_ORG_ID:false}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: when-authorized
    info:
      enabled: true
    prometheus:
      enabled: true
  metrics:
    distribution:
      percentiles-histogram:
        http.server.requests: true
  info:
    build:
      enabled: true
    env:
      enabled: true
    java:
      enabled: true
    os:
      enabled: true

info:
  app:
    name: ${spring.application.name}
    description: Spring Boot Backend Application
    version: ${app.version}
